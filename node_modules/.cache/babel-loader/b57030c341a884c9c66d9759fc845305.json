{"ast":null,"code":"import _defineProperty from \"/Users/adamrizzo/Github/cslo/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/adamrizzo/Github/cslo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/adamrizzo/Github/cslo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/adamrizzo/Github/cslo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/adamrizzo/Github/cslo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/adamrizzo/Github/cslo/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/adamrizzo/Github/cslo/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/adamrizzo/Github/cslo/src/components/SendScouts/SendScouts.js\";\nimport React from 'react';\nimport '@firebase/firestore';\nimport { withFirebase } from '../Firebase';\nimport ScoutIndividualProspect from './ScoutIndividualProspect';\n\nvar SendScoutsPage = function SendScoutsPage(_ref) {\n  var firebase = _ref.firebase;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, \"Scouting Headquarters\"), React.createElement(SendScoutsList, {\n    firebase: firebase,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }));\n};\n\nvar SendScouts =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SendScouts, _React$Component);\n\n  function SendScouts(props) {\n    var _this;\n\n    _classCallCheck(this, SendScouts);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SendScouts).call(this, props));\n    _this.state = {\n      email: \"\",\n      scoutPoints: 0,\n      teamName: \"\",\n      scoutList: [],\n      uniqueId: \"\"\n    };\n    _this.saveScouts = _this.saveScouts.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SendScouts, [{\n    key: \"saveScouts\",\n    value: function saveScouts() {\n      var prospectsSelected = document.getElementsByClassName('selection');\n      var year = 2033;\n      var list = [];\n      var first = \"\";\n      var last = \"\";\n\n      for (var i = 0; i < prospectsSelected.length; i++) {\n        if (prospectsSelected[i].selectedOptions[0].text.indexOf(',') !== -1) {\n          var segments = prospectsSelected[i].selectedOptions[0].text.split(',');\n          last = segments[0];\n          first = segments[1];\n        }\n\n        var selectedText = prospectsSelected[i].selectedOptions[0].text;\n        var prospect = {\n          first: first,\n          last: last,\n          url: selectedText.toLowerCase().replace(/[, ']+/g, \"\").trim(),\n          year: year\n        };\n        list.push(prospect);\n      }\n\n      this.setState({\n        scoutList: list\n      });\n      var fire = this.props.firebase;\n      var db = fire.auth.app.firebase_.firestore();\n      var franchiseRef = db.collection(\"franchises\").doc(this.state.uniqueId);\n      return franchiseRef.update({\n        scoutList: list\n      }).then(function () {}).catch(function (error) {});\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var userEmail = this.props.firebase.auth.currentUser.email;\n      var fire = this.props.firebase;\n      var db = fire.auth.app.firebase_.firestore();\n      db.collection(\"franchises\").where(\"email\", \"==\", userEmail).get().then(function (docSnapshot) {\n        docSnapshot.forEach(function (doc) {\n          _this2.setState({\n            email: doc.data().email,\n            scoutPoints: doc.data().availableScouts,\n            teamName: doc.data().team,\n            scoutList: doc.data().scoutList,\n            uniqueId: doc.id\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _React$createElement;\n\n      var selectProspects = [];\n      var currentScoutList = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, this.state.scoutList.map(function (person, index) {\n        return React.createElement(\"li\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, person.first, \" \", person.last);\n      })));\n\n      for (var i = 0; i < this.state.scoutPoints; i++) {\n        selectProspects.push(React.createElement(ScoutIndividualProspect, {\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, this.state.teamName), React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Scouts Available: \", this.state.scoutPoints), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Clicking the save button below will overwrite the saved scouts listed above.\"), React.createElement(\"button\", (_React$createElement = {\n        className: \"text-center\",\n        onClick: this.saveScouts\n      }, _defineProperty(_React$createElement, \"className\", \"btn saveScoutsBtn\"), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement), \"Save Scouts\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Currently Scouting:\"), currentScoutList), React.createElement(\"div\", {\n        className: \"col-sm-6 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Choose Different Prospects to Scout\"), selectProspects)));\n    }\n  }]);\n\n  return SendScouts;\n}(React.Component);\n\n;\nexport default SendScoutsPage;\nvar SendScoutsList = withFirebase(SendScouts);\nexport { SendScoutsList };","map":{"version":3,"sources":["/Users/adamrizzo/Github/cslo/src/components/SendScouts/SendScouts.js"],"names":["React","withFirebase","ScoutIndividualProspect","SendScoutsPage","firebase","SendScouts","props","state","email","scoutPoints","teamName","scoutList","uniqueId","saveScouts","bind","prospectsSelected","document","getElementsByClassName","year","list","first","last","i","length","selectedOptions","text","indexOf","segments","split","selectedText","prospect","url","toLowerCase","replace","trim","push","setState","fire","db","auth","app","firebase_","firestore","franchiseRef","collection","doc","update","then","catch","error","userEmail","currentUser","where","get","docSnapshot","forEach","data","availableScouts","team","id","selectProspects","currentScoutList","map","person","index","Component","SendScoutsList"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '@firebase/firestore'\nimport { withFirebase } from '../Firebase';\nimport ScoutIndividualProspect from './ScoutIndividualProspect'\n\nconst SendScoutsPage = ({firebase}) => (\n  <div>\n    <h1>Scouting Headquarters</h1>\n    <SendScoutsList firebase={firebase}/>\n  </div>\n);\n\nclass SendScouts extends React.Component{\n  constructor(props: IProps) {\n    super(props);\n    this.state = {\n      email: \"\",\n      scoutPoints: 0,\n      teamName: \"\",\n      scoutList: [],\n      uniqueId: \"\"\n    };\n    this.saveScouts = this.saveScouts.bind(this);\n  }\n  saveScouts() {\n    var prospectsSelected = document.getElementsByClassName('selection');\n    let year = 2033;\n    let list = [];\n    let first = \"\";\n    let last = \"\";\n    for (var i = 0; i < prospectsSelected.length; i++){\n      if (prospectsSelected[i].selectedOptions[0].text.indexOf(',') !== -1) {\n        var segments = prospectsSelected[i].selectedOptions[0].text.split(',');\n        last = segments[0];\n        first = segments[1];\n      }\n\n      let selectedText = prospectsSelected[i].selectedOptions[0].text;\n      let prospect = {\n        first: first,\n        last: last,\n        url: selectedText.toLowerCase().replace(/[, ']+/g, \"\").trim(),\n        year: year\n      };\n      list.push(prospect);\n    }\n    this.setState({\n      scoutList: list\n    });\n\n    const fire = this.props.firebase;\n    const db = fire.auth.app.firebase_.firestore();\n\n    var franchiseRef = db.collection(\"franchises\").doc(this.state.uniqueId);\n    return franchiseRef.update({\n    scoutList: list\n    })\n    .then(function() {\n    })\n    .catch(function(error) {\n    });\n  }\n  componentDidMount() {\n    var userEmail = this.props.firebase.auth.currentUser.email;\n\n    const fire = this.props.firebase;\n    const db = fire.auth.app.firebase_.firestore();\n\n\n    db.collection(\"franchises\").where(\"email\", \"==\", userEmail)\n    .get()\n    .then((docSnapshot) => {\n      docSnapshot.forEach((doc) => {\n        this.setState({\n          email: doc.data().email,\n          scoutPoints: doc.data().availableScouts,\n          teamName: doc.data().team,\n          scoutList: doc.data().scoutList,\n          uniqueId: doc.id\n        });\n      });\n    });\n  }\n  render(){\n    var selectProspects = [];\n\n    const currentScoutList = (\n      <div>\n        <ul>\n          {this.state.scoutList.map((person, index) => (\n              <li key={index}>{person.first} {person.last}</li>\n          ))}\n        </ul>\n      </div>\n    );\n\n    for (var i = 0; i < this.state.scoutPoints; i++) {\n      selectProspects.push(<ScoutIndividualProspect key={i} />);\n    }\n\n    return (\n      <div>\n        <h3>{this.state.teamName}</h3>\n        <h6>Scouts Available: {this.state.scoutPoints}</h6>\n        <hr></hr>\n        <p className='text-center'>Clicking the save button below will overwrite the saved scouts listed above.</p>\n        <button className='text-center' onClick={this.saveScouts} className='btn saveScoutsBtn'>Save Scouts</button>\n        <hr></hr>\n        <div className=\"row\">\n          <div className=\"col-sm-6\">\n            <h5>Currently Scouting:</h5>\n            {currentScoutList}\n          </div>\n          <div className=\"col-sm-6 text-center\">\n            <h5>Choose Different Prospects to Scout</h5>\n            {selectProspects}\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default SendScoutsPage;\n\nconst SendScoutsList = withFirebase(SendScouts);\n\nexport {SendScoutsList};\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"/Users/adamrizzo/Github/cslo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/adamrizzo/Github/cslo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/adamrizzo/Github/cslo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/adamrizzo/Github/cslo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/adamrizzo/Github/cslo/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/adamrizzo/Github/cslo/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/adamrizzo/Github/cslo/src/components/Interviews/Interviews.js\";\nimport React from 'react';\nimport '@firebase/firestore';\nimport { withFirebase } from '../Firebase';\nimport ScoutIndividualProspect from '../SendScouts/ScoutIndividualProspect';\n\nvar InterviewsPage = function InterviewsPage(_ref) {\n  var firebase = _ref.firebase;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, \"Set Interviews\"), React.createElement(ScheduleInterviewsList, {\n    firebase: firebase,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }));\n};\n\nvar ScheduleInterviews =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ScheduleInterviews, _React$Component);\n\n  function ScheduleInterviews(props) {\n    var _this;\n\n    _classCallCheck(this, ScheduleInterviews);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ScheduleInterviews).call(this, props));\n    _this.state = {\n      email: \"\",\n      interviewPoints: 15,\n      teamName: \"\",\n      interviewList: [],\n      uniqueId: \"\"\n    };\n    _this.ScheduleInterviews = _this.ScheduleInterviews.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ScheduleInterviews, [{\n    key: \"ScheduleInterviews\",\n    value: function ScheduleInterviews() {\n      var prospectsSelected = document.getElementsByClassName('selection');\n      var list = [];\n      var first = \"\";\n      var last = \"\";\n      var year = 2033;\n\n      for (var i = 0; i < prospectsSelected.length; i++) {\n        if (prospectsSelected[i].selectedOptions[0].text.indexOf(',') !== -1) {\n          var segments = prospectsSelected[i].selectedOptions[0].text.split(',');\n          last = segments[0];\n          first = segments[1];\n        }\n\n        var selectedText = prospectsSelected[i].selectedOptions[0].text;\n        var prospect = {\n          first: first,\n          last: last,\n          url: selectedText.toLowerCase().replace(/[, ']+/g, \"\").trim(),\n          year: year\n        };\n        list.push(prospect);\n      }\n\n      this.setState({\n        interviewList: list\n      });\n      var fire = this.props.firebase;\n      var db = fire.auth.app.firebase_.firestore();\n      var franchiseRef = db.collection(\"franchises\").doc(this.state.uniqueId);\n      return franchiseRef.update({\n        interviewList: list\n      }).then(function () {}).catch(function (error) {});\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var userEmail = this.props.firebase.auth.currentUser.email;\n      var fire = this.props.firebase;\n      var db = fire.auth.app.firebase_.firestore();\n      db.collection(\"franchises\").where(\"email\", \"==\", userEmail).get().then(function (docSnapshot) {\n        docSnapshot.forEach(function (doc) {\n          _this2.setState({\n            email: doc.data().email,\n            teamName: doc.data().team,\n            uniqueId: doc.id,\n            interviewList: doc.data().interviewList\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var selectProspects = [];\n      var currentInterviewList = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, this.state.interviewList.map(function (person, index) {\n        return React.createElement(\"li\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, person.first, \" \", person.last);\n      })));\n\n      for (var i = 0; i < this.state.interviewPoints; i++) {\n        selectProspects.push(React.createElement(ScoutIndividualProspect, {\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, this.state.teamName), React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Interviews Available: \", this.state.interviewPoints), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Clicking the save button below will overwrite the saved interviews listed above.\"), React.createElement(\"button\", {\n        onClick: this.ScheduleInterviews,\n        className: \"text-center btn ScheduleInterviewsBtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Schedule Interviews\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Currently Interviewing:\"), currentInterviewList), React.createElement(\"div\", {\n        className: \"col-sm-6 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Choose Different Prospects to Interview\"), selectProspects)));\n    }\n  }]);\n\n  return ScheduleInterviews;\n}(React.Component);\n\n;\nexport default InterviewsPage;\nvar ScheduleInterviewsList = withFirebase(ScheduleInterviews);\nexport { ScheduleInterviewsList };","map":{"version":3,"sources":["/Users/adamrizzo/Github/cslo/src/components/Interviews/Interviews.js"],"names":["React","withFirebase","ScoutIndividualProspect","InterviewsPage","firebase","ScheduleInterviews","props","state","email","interviewPoints","teamName","interviewList","uniqueId","bind","prospectsSelected","document","getElementsByClassName","list","first","last","year","i","length","selectedOptions","text","indexOf","segments","split","selectedText","prospect","url","toLowerCase","replace","trim","push","setState","fire","db","auth","app","firebase_","firestore","franchiseRef","collection","doc","update","then","catch","error","userEmail","currentUser","where","get","docSnapshot","forEach","data","team","id","selectProspects","currentInterviewList","map","person","index","Component","ScheduleInterviewsList"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '@firebase/firestore'\nimport { withFirebase } from '../Firebase';\nimport ScoutIndividualProspect from '../SendScouts/ScoutIndividualProspect'\n\nconst InterviewsPage = ({firebase}) => (\n  <div>\n    <h1>Set Interviews</h1>\n    <ScheduleInterviewsList firebase={firebase}/>\n  </div>\n);\n\nclass ScheduleInterviews extends React.Component{\n  constructor(props: IProps) {\n    super(props);\n    this.state = {\n      email: \"\",\n      interviewPoints: 15,\n      teamName: \"\",\n      interviewList: [],\n      uniqueId: \"\"\n    };\n    this.ScheduleInterviews = this.ScheduleInterviews.bind(this);\n  }\n  ScheduleInterviews() {\n    var prospectsSelected = document.getElementsByClassName('selection');\n    let list = [];\n    let first = \"\";\n    let last = \"\";\n    let year = 2033;\n    for (var i = 0; i < prospectsSelected.length; i++){\n      if (prospectsSelected[i].selectedOptions[0].text.indexOf(',') !== -1) {\n        var segments = prospectsSelected[i].selectedOptions[0].text.split(',');\n        last = segments[0];\n        first = segments[1];\n      }\n\n      let selectedText = prospectsSelected[i].selectedOptions[0].text;\n      let prospect = {\n        first: first,\n        last: last,\n        url: selectedText.toLowerCase().replace(/[, ']+/g, \"\").trim(),\n        year: year\n      };\n      list.push(prospect);\n    }\n    this.setState({\n      interviewList: list\n    });\n\n    const fire = this.props.firebase;\n    const db = fire.auth.app.firebase_.firestore();\n\n    var franchiseRef = db.collection(\"franchises\").doc(this.state.uniqueId);\n    return franchiseRef.update({\n      interviewList: list\n    })\n    .then(function() {\n    })\n    .catch(function(error) {\n    });\n  }\n  componentDidMount() {\n    var userEmail = this.props.firebase.auth.currentUser.email;\n\n    const fire = this.props.firebase;\n    const db = fire.auth.app.firebase_.firestore();\n\n\n    db.collection(\"franchises\").where(\"email\", \"==\", userEmail)\n    .get()\n    .then((docSnapshot) => {\n      docSnapshot.forEach((doc) => {\n        this.setState({\n          email: doc.data().email,\n          teamName: doc.data().team,\n          uniqueId: doc.id,\n          interviewList: doc.data().interviewList\n        });\n      });\n    });\n  }\n  render(){\n    var selectProspects = [];\n\n    const currentInterviewList = (\n      <div>\n        <ul>\n          {this.state.interviewList.map((person, index) => (\n              <li key={index}>{person.first} {person.last}</li>\n          ))}\n        </ul>\n      </div>\n    );\n\n    for (var i = 0; i < this.state.interviewPoints; i++) {\n      selectProspects.push(<ScoutIndividualProspect key={i} />);\n    }\n\n    return (\n      <div>\n        <h3>{this.state.teamName}</h3>\n        <h6>Interviews Available: {this.state.interviewPoints}</h6>\n        <hr></hr>\n        <p className='text-center'>Clicking the save button below will overwrite the saved interviews listed above.</p>\n        <button onClick={this.ScheduleInterviews} className='text-center btn ScheduleInterviewsBtn'>Schedule Interviews</button>\n        <hr></hr>\n        <div className=\"row\">\n          <div className=\"col-sm-6\">\n            <h5>Currently Interviewing:</h5>\n            {currentInterviewList}\n          </div>\n          <div className=\"col-sm-6 text-center\">\n            <h5>Choose Different Prospects to Interview</h5>\n            {selectProspects}\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default InterviewsPage;\n\nconst ScheduleInterviewsList = withFirebase(ScheduleInterviews);\n\nexport {ScheduleInterviewsList};\n"]},"metadata":{},"sourceType":"module"}
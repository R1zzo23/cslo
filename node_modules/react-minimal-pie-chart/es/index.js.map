{"version":3,"file":"index.js","sources":["../node_modules/svg-partial-circle/index.js","../src/utils.js","../src/ReactMinimalPieChartPath.js","../src/propTypes.js","../src/ReactMinimalPieChartLabel.js","../src/ReactMinimalPieChart.js"],"sourcesContent":["'use strict'\n\n// from http://stackoverflow.com/a/18473154\nconst partialCircle = (cx, cy, r, start, end) => {\n\tconst length = end - start\n\tif (length === 0) return []\n\n\tconst fromX = r * Math.cos(start) + cx\n\tconst fromY = r * Math.sin(start) + cy\n\tconst toX = r * Math.cos(end) + cx\n\tconst toY = r * Math.sin(end) + cy\n\tconst large = Math.abs(length) <= Math.PI ? '0' : '1'\n\tconst sweep = length < 0 ? '0' : '1'\n\n\treturn [\n\t\t['M', fromX, fromY],\n\t\t['A', r, r, 0, large, sweep, toX, toY]\n\t]\n}\n\nmodule.exports = partialCircle\n","const PI = Math.PI;\n\nexport function degreesToRadians(degrees) {\n  return (degrees * PI) / 180;\n}\n\nexport function evaluateViewBoxSize(ratio, baseSize) {\n  // Wide ratio\n  if (ratio > 1) {\n    return `0 0 ${baseSize} ${baseSize / ratio}`;\n  }\n  // Narrow/squared ratio\n  return `0 0 ${baseSize * ratio} ${baseSize}`;\n}\n\nexport function evaluateLabelTextAnchor({\n  labelPosition,\n  lineWidth,\n  labelHorizontalShift,\n} = {}) {\n  // Label in the vertical center\n  if (labelHorizontalShift === 0) {\n    return 'middle';\n  }\n  // Outward label\n  if (labelPosition > 100) {\n    return labelHorizontalShift > 0 ? 'start' : 'end';\n  }\n  // Inward label\n  const innerRadius = 100 - lineWidth;\n  if (labelPosition < innerRadius) {\n    return labelHorizontalShift > 0 ? 'end' : 'start';\n  }\n  // Overlying label\n  return 'middle';\n}\n\nexport function valueBetween(value, min, max) {\n  if (value > max) return max;\n  if (value < min) return min;\n  return value;\n}\n\nexport function extractPercentage(value, percentage) {\n  return (value * percentage) / 100;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport partialCircle from 'svg-partial-circle';\nimport { degreesToRadians, extractPercentage, valueBetween } from './utils';\n\nconst makePathCommands = (cx, cy, startAngle, lengthAngle, radius) => {\n  const patchedLengthAngle = valueBetween(lengthAngle, -359.999, 359.999);\n\n  return partialCircle(\n    cx,\n    cy, // center X and Y\n    radius,\n    degreesToRadians(startAngle),\n    degreesToRadians(startAngle + patchedLengthAngle)\n  )\n    .map(command => command.join(' '))\n    .join(' ');\n};\n\nexport default function ReactMinimalPieChartPath({\n  cx,\n  cy,\n  startAngle,\n  lengthAngle,\n  radius,\n  lineWidth,\n  reveal,\n  title,\n  ...props\n}) {\n  const actualRadio = radius - lineWidth / 2;\n  const pathCommands = makePathCommands(\n    cx,\n    cy,\n    startAngle,\n    lengthAngle,\n    actualRadio\n  );\n  let strokeDasharray;\n  let strokeDashoffset;\n\n  // Animate/hide paths with \"stroke-dasharray\" + \"stroke-dashoffset\"\n  // https://css-tricks.com/svg-line-animation-works/\n  if (typeof reveal === 'number') {\n    strokeDasharray = degreesToRadians(actualRadio) * Math.abs(lengthAngle);\n    strokeDashoffset =\n      strokeDasharray + extractPercentage(strokeDasharray, reveal);\n  }\n\n  return (\n    <path\n      d={pathCommands}\n      strokeWidth={lineWidth}\n      strokeDasharray={strokeDasharray}\n      strokeDashoffset={strokeDashoffset}\n      {...props}\n    >\n      {title && <title>{title}</title>}\n    </path>\n  );\n}\n\nReactMinimalPieChartPath.displayName = 'ReactMinimalPieChartPath';\n\nReactMinimalPieChartPath.propTypes = {\n  cx: PropTypes.number.isRequired,\n  cy: PropTypes.number.isRequired,\n  startAngle: PropTypes.number,\n  lengthAngle: PropTypes.number,\n  radius: PropTypes.number,\n  lineWidth: PropTypes.number,\n  reveal: PropTypes.number,\n  title: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n};\n\nReactMinimalPieChartPath.defaultProps = {\n  startAngle: 0,\n  lengthAngle: 0,\n  lineWidth: 100,\n  radius: 100,\n};\n","import PropTypes from 'prop-types';\n\nexport const dataPropType = PropTypes.arrayOf(\n  PropTypes.shape({\n    title: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    value: PropTypes.number.isRequired,\n    key: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    color: PropTypes.string,\n  })\n);\n\nexport const stylePropType = PropTypes.objectOf(\n  PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { dataPropType } from './propTypes';\n\nexport default function ReactMinimalPieChartLabel({\n  data, // eslint-disable-line no-unused-vars\n  dataIndex, // eslint-disable-line no-unused-vars\n  color,\n  ...props\n}) {\n  return (\n    <text\n      textAnchor=\"middle\"\n      alignmentBaseline=\"middle\"\n      fill={color}\n      {...props}\n    />\n  );\n}\n\nReactMinimalPieChartLabel.displayName = 'ReactMinimalPieChartLabel';\n\nReactMinimalPieChartLabel.propTypes = {\n  data: dataPropType,\n  dataIndex: PropTypes.number,\n  color: PropTypes.string,\n};\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Path from './ReactMinimalPieChartPath';\nimport DefaultLabel from './ReactMinimalPieChartLabel';\nimport { dataPropType, stylePropType } from './propTypes';\nimport {\n  degreesToRadians,\n  evaluateViewBoxSize,\n  evaluateLabelTextAnchor,\n  extractPercentage,\n  valueBetween,\n} from './utils';\n\nconst VIEWBOX_SIZE = 100;\nconst VIEWBOX_HALF_SIZE = VIEWBOX_SIZE / 2;\n\nconst sumValues = data =>\n  data.reduce((acc, dataEntry) => acc + dataEntry.value, 0);\n\nconst evaluateDegreesFromValues = (data, totalAngle, totalValue) => {\n  const total = totalValue || sumValues(data);\n  const normalizedTotalAngle = valueBetween(totalAngle, -360, 360);\n\n  // Append \"degrees\" and \"percentage\" into each data entry\n  return data.map(dataEntry => {\n    const valueInPercentage = (dataEntry.value / total) * 100;\n    return {\n      percentage: valueInPercentage,\n      degrees: extractPercentage(normalizedTotalAngle, valueInPercentage),\n      ...dataEntry,\n    };\n  });\n};\n\nconst makeSegmentTransitionStyle = (duration, easing, furtherStyles = {}) => {\n  // Merge CSS transition necessary for chart animation with the ones provided by \"segmentsStyle\"\n  const transition = [\n    `stroke-dashoffset ${duration}ms ${easing}`,\n    furtherStyles.transition,\n  ]\n    .filter(Boolean)\n    .join(',');\n\n  return {\n    transition,\n  };\n};\n\nconst makeSegments = (data, props, hide) => {\n  // Keep track of how many degrees have already been taken\n  let lastSegmentAngle = props.startAngle;\n  const paddingAngle = props.paddingAngle * Math.sign(props.lengthAngle);\n  let reveal;\n  let style = props.segmentsStyle;\n\n  if (props.animate) {\n    const transitionStyle = makeSegmentTransitionStyle(\n      props.animationDuration,\n      props.animationEasing,\n      style\n    );\n    style = Object.assign({}, style, transitionStyle);\n  }\n\n  // Hide/reveal the segment?\n  if (hide === true) {\n    reveal = 0;\n  } else if (typeof props.reveal === 'number') {\n    reveal = props.reveal;\n  } else if (hide === false) {\n    reveal = 100;\n  }\n\n  return data.map((dataEntry, index) => {\n    const startAngle = lastSegmentAngle;\n    const lengthAngle = dataEntry.degrees;\n    lastSegmentAngle += lengthAngle;\n\n    return (\n      <Path\n        key={dataEntry.key || index}\n        cx={props.cx}\n        cy={props.cy}\n        startAngle={startAngle}\n        lengthAngle={lengthAngle - paddingAngle}\n        radius={props.radius}\n        lineWidth={extractPercentage(props.radius, props.lineWidth)}\n        reveal={reveal}\n        title={dataEntry.title}\n        style={style}\n        stroke={dataEntry.color}\n        strokeLinecap={props.rounded ? 'round' : undefined}\n        fill=\"none\"\n        onMouseOver={\n          props.onMouseOver && (e => props.onMouseOver(e, props.data, index))\n        }\n        onMouseOut={\n          props.onMouseOut && (e => props.onMouseOut(e, props.data, index))\n        }\n        onClick={props.onClick && (e => props.onClick(e, props.data, index))}\n      />\n    );\n  });\n};\n\nfunction renderLabelItem(option, props, value) {\n  if (React.isValidElement(option)) {\n    return React.cloneElement(option, props);\n  }\n\n  let label = value;\n  if (typeof option === 'function') {\n    label = option(props);\n    if (React.isValidElement(label)) {\n      return label;\n    }\n  }\n\n  return <DefaultLabel {...props}>{label}</DefaultLabel>;\n}\n\nconst makeLabels = (data, props) => {\n  // Keep track of how many degrees have already been taken\n  let lastSegmentAngle = props.startAngle;\n  const paddingAngle = props.paddingAngle * Math.sign(props.lengthAngle);\n  const labelPosition = extractPercentage(props.radius, props.labelPosition);\n\n  return data.map((dataEntry, index) => {\n    const startAngle = lastSegmentAngle;\n    const lengthAngle = dataEntry.degrees;\n    lastSegmentAngle += lengthAngle;\n\n    const halfAngle = startAngle + (lengthAngle - paddingAngle) / 2;\n    const halfAngleRadians = degreesToRadians(halfAngle);\n    const dx = Math.cos(halfAngleRadians) * labelPosition;\n    const dy = Math.sin(halfAngleRadians) * labelPosition;\n\n    // This object is passed as props to the \"label\" component\n    const labelProps = {\n      key: `label-${dataEntry.key || index}`,\n      x: props.cx,\n      y: props.cy,\n      dx,\n      dy,\n      textAnchor: evaluateLabelTextAnchor({\n        lineWidth: props.lineWidth,\n        labelPosition: props.labelPosition,\n        labelHorizontalShift: dx,\n      }),\n      data: data,\n      dataIndex: index,\n      color: dataEntry.color,\n      style: props.labelStyle,\n    };\n\n    return renderLabelItem(props.label, labelProps, dataEntry.value);\n  });\n};\n\nexport default class ReactMinimalPieChart extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    if (this.props.animate === true) {\n      this.hideSegments = true;\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.animate === true && requestAnimationFrame) {\n      this.initialAnimationTimerId = setTimeout(() => {\n        this.initialAnimationTimerId = null;\n        this.initialAnimationRAFId = requestAnimationFrame(() => {\n          (this.initialAnimationRAFId = null), this.startAnimation();\n        });\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.initialAnimationTimerId) {\n      clearTimeout(this.initialAnimationTimerId);\n    }\n    if (this.initialAnimationRAFId) {\n      cancelAnimationFrame(this.initialAnimationRAFId);\n    }\n  }\n\n  startAnimation() {\n    this.hideSegments = false;\n    this.forceUpdate();\n  }\n\n  render() {\n    if (this.props.data === undefined) {\n      return null;\n    }\n\n    const normalizedData = evaluateDegreesFromValues(\n      this.props.data,\n      this.props.lengthAngle,\n      this.props.totalValue\n    );\n\n    return (\n      <div\n        className={this.props.className}\n        style={this.props.style}\n      >\n        <svg\n          viewBox={evaluateViewBoxSize(this.props.ratio, VIEWBOX_SIZE)}\n          width=\"100%\"\n          height=\"100%\"\n          style={{ display: 'block' }}\n        >\n          {makeSegments(normalizedData, this.props, this.hideSegments)}\n          {this.props.label && makeLabels(normalizedData, this.props)}\n          {this.props.injectSvg && this.props.injectSvg()}\n        </svg>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nReactMinimalPieChart.displayName = 'ReactMinimalPieChart';\n\nReactMinimalPieChart.propTypes = {\n  data: dataPropType,\n  cx: PropTypes.number,\n  cy: PropTypes.number,\n  ratio: PropTypes.number,\n  totalValue: PropTypes.number,\n  className: PropTypes.string,\n  style: stylePropType,\n  segmentsStyle: stylePropType,\n  startAngle: PropTypes.number,\n  lengthAngle: PropTypes.number,\n  paddingAngle: PropTypes.number,\n  lineWidth: PropTypes.number,\n  radius: PropTypes.number,\n  rounded: PropTypes.bool,\n  animate: PropTypes.bool,\n  animationDuration: PropTypes.number,\n  animationEasing: PropTypes.string,\n  reveal: PropTypes.number,\n  children: PropTypes.node,\n  injectSvg: PropTypes.func,\n  label: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.element,\n    PropTypes.bool,\n  ]),\n  labelPosition: PropTypes.number,\n  labelStyle: stylePropType,\n  onMouseOver: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onClick: PropTypes.func,\n};\n\nReactMinimalPieChart.defaultProps = {\n  cx: VIEWBOX_HALF_SIZE,\n  cy: VIEWBOX_HALF_SIZE,\n  ratio: 1,\n  startAngle: 0,\n  lengthAngle: 360,\n  paddingAngle: 0,\n  lineWidth: 100,\n  radius: VIEWBOX_HALF_SIZE,\n  rounded: false,\n  animate: false,\n  animationDuration: 500,\n  animationEasing: 'ease-out',\n  label: false,\n  labelPosition: 50,\n  onMouseOver: undefined,\n  onMouseOut: undefined,\n  onClick: undefined,\n};\n"],"names":["partialCircle","cx","cy","r","start","end","length","fromX","Math","cos","fromY","sin","toX","toY","large","abs","PI","sweep","module","degreesToRadians","degrees","evaluateViewBoxSize","ratio","baseSize","evaluateLabelTextAnchor","labelPosition","lineWidth","labelHorizontalShift","innerRadius","valueBetween","value","min","max","extractPercentage","percentage","makePathCommands","startAngle","lengthAngle","radius","patchedLengthAngle","map","command","join","ReactMinimalPieChartPath","reveal","title","props","actualRadio","pathCommands","strokeDasharray","strokeDashoffset","displayName","propTypes","PropTypes","number","isRequired","oneOfType","string","defaultProps","dataPropType","arrayOf","shape","stylePropType","objectOf","ReactMinimalPieChartLabel","data","dataIndex","color","VIEWBOX_SIZE","VIEWBOX_HALF_SIZE","sumValues","reduce","acc","dataEntry","evaluateDegreesFromValues","totalAngle","totalValue","total","normalizedTotalAngle","valueInPercentage","makeSegmentTransitionStyle","duration","easing","furtherStyles","transition","filter","Boolean","makeSegments","hide","lastSegmentAngle","paddingAngle","sign","style","segmentsStyle","animate","transitionStyle","animationDuration","animationEasing","Object","assign","index","Path","key","rounded","undefined","onMouseOver","e","onMouseOut","onClick","renderLabelItem","option","React","isValidElement","cloneElement","label","makeLabels","halfAngle","halfAngleRadians","dx","dy","labelProps","labelStyle","ReactMinimalPieChart","hideSegments","componentDidMount","requestAnimationFrame","initialAnimationTimerId","setTimeout","initialAnimationRAFId","startAnimation","componentWillUnmount","forceUpdate","render","normalizedData","className","display","injectSvg","children","PureComponent","bool","node","func","element"],"mappings":";;;;;AAGA,IAAMA,gBAAgB,SAAhBA,aAAgB,CAACC,EAAD,EAAKC,EAAL,EAASC,CAAT,EAAYC,KAAZ,EAAmBC,GAAnB,EAA2B;KAC1CC,SAASD,MAAMD,KAArB;KACIE,WAAW,CAAf,EAAkB,OAAO,EAAP;;KAEZC,QAAQJ,IAAIK,KAAKC,GAAL,CAASL,KAAT,CAAJ,GAAsBH,EAApC;KACMS,QAAQP,IAAIK,KAAKG,GAAL,CAASP,KAAT,CAAJ,GAAsBF,EAApC;KACMU,MAAMT,IAAIK,KAAKC,GAAL,CAASJ,GAAT,CAAJ,GAAoBJ,EAAhC;KACMY,MAAMV,IAAIK,KAAKG,GAAL,CAASN,GAAT,CAAJ,GAAoBH,EAAhC;KACMY,QAAQN,KAAKO,GAAL,CAAST,MAAT,KAAoBE,KAAKQ,EAAzB,GAA8B,GAA9B,GAAoC,GAAlD;KACMC,QAAQX,SAAS,CAAT,GAAa,GAAb,GAAmB,GAAjC;;QAEO,CACN,CAAC,GAAD,EAAMC,KAAN,EAAaG,KAAb,CADM,EAEN,CAAC,GAAD,EAAMP,CAAN,EAASA,CAAT,EAAY,CAAZ,EAAeW,KAAf,EAAsBG,KAAtB,EAA6BL,GAA7B,EAAkCC,GAAlC,CAFM,CAAP;CAXD;;AAiBAK,oBAAA,GAAiBlB,aAAjB;;ACpBA,IAAMgB,KAAKR,KAAKQ,EAAhB;;AAEA,AAAO,SAASG,gBAAT,CAA0BC,OAA1B,EAAmC;SAChCA,UAAUJ,EAAX,GAAiB,GAAxB;;;AAGF,AAAO,SAASK,mBAAT,CAA6BC,KAA7B,EAAoCC,QAApC,EAA8C;;MAE/CD,QAAQ,CAAZ,EAAe;oBACCC,QAAd,SAA0BA,WAAWD,KAArC;;;kBAGYC,WAAWD,KAAzB,SAAkCC,QAAlC;;;AAGF,AAAO,SAASC,uBAAT,GAIC;iFAAJ,EAAI;MAHNC,aAGM,QAHNA,aAGM;MAFNC,SAEM,QAFNA,SAEM;MADNC,oBACM,QADNA,oBACM;;;MAEFA,yBAAyB,CAA7B,EAAgC;WACvB,QAAP;;;MAGEF,gBAAgB,GAApB,EAAyB;WAChBE,uBAAuB,CAAvB,GAA2B,OAA3B,GAAqC,KAA5C;;;MAGIC,cAAc,MAAMF,SAA1B;MACID,gBAAgBG,WAApB,EAAiC;WACxBD,uBAAuB,CAAvB,GAA2B,KAA3B,GAAmC,OAA1C;;;SAGK,QAAP;;;AAGF,AAAO,SAASE,YAAT,CAAsBC,KAAtB,EAA6BC,GAA7B,EAAkCC,GAAlC,EAAuC;MACxCF,QAAQE,GAAZ,EAAiB,OAAOA,GAAP;MACbF,QAAQC,GAAZ,EAAiB,OAAOA,GAAP;SACVD,KAAP;;;AAGF,AAAO,SAASG,iBAAT,CAA2BH,KAA3B,EAAkCI,UAAlC,EAA8C;SAC3CJ,QAAQI,UAAT,GAAuB,GAA9B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvCF,IAAMC,mBAAmB,SAAnBA,gBAAmB,CAAClC,EAAD,EAAKC,EAAL,EAASkC,UAAT,EAAqBC,WAArB,EAAkCC,MAAlC,EAA6C;MAC9DC,qBAAqBV,aAAaQ,WAAb,EAA0B,CAAC,OAA3B,EAAoC,OAApC,CAA3B;;SAEOrC,iBACLC,EADK,EAELC,EAFK;QAAA,EAILiB,iBAAiBiB,UAAjB,CAJK,EAKLjB,iBAAiBiB,aAAaG,kBAA9B,CALK,EAOJC,GAPI,CAOA;WAAWC,QAAQC,IAAR,CAAa,GAAb,CAAX;GAPA,EAQJA,IARI,CAQC,GARD,CAAP;CAHF;;AAcA,AAAe,SAASC,wBAAT,OAUZ;MATD1C,EASC,QATDA,EASC;MARDC,EAQC,QARDA,EAQC;MAPDkC,UAOC,QAPDA,UAOC;MANDC,WAMC,QANDA,WAMC;MALDC,MAKC,QALDA,MAKC;MAJDZ,SAIC,QAJDA,SAIC;MAHDkB,MAGC,QAHDA,MAGC;MAFDC,KAEC,QAFDA,KAEC;MADEC,KACF;;MACKC,cAAcT,SAASZ,YAAY,CAAzC;MACMsB,eAAeb,iBACnBlC,EADmB,EAEnBC,EAFmB,EAGnBkC,UAHmB,EAInBC,WAJmB,EAKnBU,WALmB,CAArB;MAOIE,wBAAJ;MACIC,yBAAJ;;;;MAII,OAAON,MAAP,KAAkB,QAAtB,EAAgC;sBACZzB,iBAAiB4B,WAAjB,IAAgCvC,KAAKO,GAAL,CAASsB,WAAT,CAAlD;uBAEEY,kBAAkBhB,kBAAkBgB,eAAlB,EAAmCL,MAAnC,CADpB;;;SAKA;;;SACKI,YADL;mBAEetB,SAFf;uBAGmBuB,eAHnB;wBAIoBC;OACdJ,KALN;aAOY;;;;;GARd;;;AAaFH,yBAAyBQ,WAAzB,GAAuC,0BAAvC;;AAEAR,yBAAyBS,SAAzB,GAAqC;MAC/BC,UAAUC,MAAV,CAAiBC,UADc;MAE/BF,UAAUC,MAAV,CAAiBC,UAFc;cAGvBF,UAAUC,MAHa;eAItBD,UAAUC,MAJY;UAK3BD,UAAUC,MALiB;aAMxBD,UAAUC,MANc;UAO3BD,UAAUC,MAPiB;SAQ5BD,UAAUG,SAAV,CAAoB,CAACH,UAAUC,MAAX,EAAmBD,UAAUI,MAA7B,CAApB;CART;;AAWAd,yBAAyBe,YAAzB,GAAwC;cAC1B,CAD0B;eAEzB,CAFyB;aAG3B,GAH2B;UAI9B;CAJV;;ACzEO,IAAMC,eAAeN,UAAUO,OAAV,CAC1BP,UAAUQ,KAAV,CAAgB;SACPR,UAAUG,SAAV,CAAoB,CAACH,UAAUC,MAAX,EAAmBD,UAAUI,MAA7B,CAApB,CADO;SAEPJ,UAAUC,MAAV,CAAiBC,UAFV;OAGTF,UAAUG,SAAV,CAAoB,CAACH,UAAUC,MAAX,EAAmBD,UAAUI,MAA7B,CAApB,CAHS;SAIPJ,UAAUI;CAJnB,CAD0B,CAArB;;AASP,AAAO,IAAMK,gBAAgBT,UAAUU,QAAV,CAC3BV,UAAUG,SAAV,CAAoB,CAACH,UAAUC,MAAX,EAAmBD,UAAUI,MAA7B,CAApB,CAD2B,CAAtB;;ACPQ,SAASO,yBAAT,OAKZ;MAJDC,IAIC,QAJDA,IAIC;MAHDC,SAGC,QAHDA,SAGC;MAFDC,KAEC,QAFDA,KAEC;MADErB,KACF;;SAEC;gBACa,QADb;uBAEoB,QAFpB;UAGQqB;KACFrB,KAJN,EADF;;;AAUFkB,0BAA0Bb,WAA1B,GAAwC,2BAAxC;;AAEAa,0BAA0BZ,SAA1B,GAAsC;QAC9BO,YAD8B;aAEzBN,UAAUC,MAFe;SAG7BD,UAAUI;CAHnB;;ACTA,IAAMW,eAAe,GAArB;AACA,IAAMC,oBAAoBD,eAAe,CAAzC;;AAEA,IAAME,YAAY,SAAZA,SAAY;SAChBL,KAAKM,MAAL,CAAY,UAACC,GAAD,EAAMC,SAAN;WAAoBD,MAAMC,UAAU3C,KAApC;GAAZ,EAAuD,CAAvD,CADgB;CAAlB;;AAGA,IAAM4C,4BAA4B,SAA5BA,yBAA4B,CAACT,IAAD,EAAOU,UAAP,EAAmBC,UAAnB,EAAkC;MAC5DC,QAAQD,cAAcN,UAAUL,IAAV,CAA5B;MACMa,uBAAuBjD,aAAa8C,UAAb,EAAyB,CAAC,GAA1B,EAA+B,GAA/B,CAA7B;;;SAGOV,KAAKzB,GAAL,CAAS,qBAAa;QACrBuC,oBAAqBN,UAAU3C,KAAV,GAAkB+C,KAAnB,GAA4B,GAAtD;;kBAEcE,iBADd;eAEW9C,kBAAkB6C,oBAAlB,EAAwCC,iBAAxC;OACNN,SAHL;GAFK,CAAP;CALF;;AAeA,IAAMO,6BAA6B,SAA7BA,0BAA6B,CAACC,QAAD,EAAWC,MAAX,EAA0C;MAAvBC,aAAuB,uEAAP,EAAO;;;MAErEC,aAAa,wBACIH,QADJ,WACkBC,MADlB,EAEjBC,cAAcC,UAFG,EAIhBC,MAJgB,CAITC,OAJS,EAKhB5C,IALgB,CAKX,GALW,CAAnB;;SAOO;;GAAP;CATF;;AAcA,IAAM6C,eAAe,SAAfA,YAAe,CAACtB,IAAD,EAAOnB,KAAP,EAAc0C,IAAd,EAAuB;;MAEtCC,mBAAmB3C,MAAMV,UAA7B;MACMsD,eAAe5C,MAAM4C,YAAN,GAAqBlF,KAAKmF,IAAL,CAAU7C,MAAMT,WAAhB,CAA1C;MACIO,eAAJ;MACIgD,QAAQ9C,MAAM+C,aAAlB;;MAEI/C,MAAMgD,OAAV,EAAmB;QACXC,kBAAkBf,2BACtBlC,MAAMkD,iBADgB,EAEtBlD,MAAMmD,eAFgB,EAGtBL,KAHsB,CAAxB;YAKQM,OAAOC,MAAP,CAAc,EAAd,EAAkBP,KAAlB,EAAyBG,eAAzB,CAAR;;;;MAIEP,SAAS,IAAb,EAAmB;aACR,CAAT;GADF,MAEO,IAAI,OAAO1C,MAAMF,MAAb,KAAwB,QAA5B,EAAsC;aAClCE,MAAMF,MAAf;GADK,MAEA,IAAI4C,SAAS,KAAb,EAAoB;aAChB,GAAT;;;SAGKvB,KAAKzB,GAAL,CAAS,UAACiC,SAAD,EAAY2B,KAAZ,EAAsB;QAC9BhE,aAAaqD,gBAAnB;QACMpD,cAAcoC,UAAUrD,OAA9B;wBACoBiB,WAApB;;WAGE,oBAACgE,wBAAD;WACO5B,UAAU6B,GAAV,IAAiBF,KADxB;UAEMtD,MAAM7C,EAFZ;UAGM6C,MAAM5C,EAHZ;kBAIckC,UAJd;mBAKeC,cAAcqD,YAL7B;cAMU5C,MAAMR,MANhB;iBAOaL,kBAAkBa,MAAMR,MAAxB,EAAgCQ,MAAMpB,SAAtC,CAPb;cAQUkB,MARV;aASS6B,UAAU5B,KATnB;aAUS+C,KAVT;cAWUnB,UAAUN,KAXpB;qBAYiBrB,MAAMyD,OAAN,GAAgB,OAAhB,GAA0BC,SAZ3C;YAaO,MAbP;mBAeI1D,MAAM2D,WAAN,IAAsB;eAAK3D,MAAM2D,WAAN,CAAkBC,CAAlB,EAAqB5D,MAAMmB,IAA3B,EAAiCmC,KAAjC,CAAL;OAf1B;kBAkBItD,MAAM6D,UAAN,IAAqB;eAAK7D,MAAM6D,UAAN,CAAiBD,CAAjB,EAAoB5D,MAAMmB,IAA1B,EAAgCmC,KAAhC,CAAL;OAlBzB;eAoBWtD,MAAM8D,OAAN,IAAkB;eAAK9D,MAAM8D,OAAN,CAAcF,CAAd,EAAiB5D,MAAMmB,IAAvB,EAA6BmC,KAA7B,CAAL;;MArB/B;GALK,CAAP;CAzBF;;AAyDA,SAASS,eAAT,CAAyBC,MAAzB,EAAiChE,KAAjC,EAAwChB,KAAxC,EAA+C;MACzCiF,MAAMC,cAAN,CAAqBF,MAArB,CAAJ,EAAkC;WACzBC,MAAME,YAAN,CAAmBH,MAAnB,EAA2BhE,KAA3B,CAAP;;;MAGEoE,QAAQpF,KAAZ;MACI,OAAOgF,MAAP,KAAkB,UAAtB,EAAkC;YACxBA,OAAOhE,KAAP,CAAR;QACIiE,MAAMC,cAAN,CAAqBE,KAArB,CAAJ,EAAiC;aACxBA,KAAP;;;;SAIG;6BAAA;SAAA;;GAAP;;;AAGF,IAAMC,aAAa,SAAbA,UAAa,CAAClD,IAAD,EAAOnB,KAAP,EAAiB;;MAE9B2C,mBAAmB3C,MAAMV,UAA7B;MACMsD,eAAe5C,MAAM4C,YAAN,GAAqBlF,KAAKmF,IAAL,CAAU7C,MAAMT,WAAhB,CAA1C;MACMZ,gBAAgBQ,kBAAkBa,MAAMR,MAAxB,EAAgCQ,MAAMrB,aAAtC,CAAtB;;SAEOwC,KAAKzB,GAAL,CAAS,UAACiC,SAAD,EAAY2B,KAAZ,EAAsB;QAC9BhE,aAAaqD,gBAAnB;QACMpD,cAAcoC,UAAUrD,OAA9B;wBACoBiB,WAApB;;QAEM+E,YAAYhF,aAAa,CAACC,cAAcqD,YAAf,IAA+B,CAA9D;QACM2B,mBAAmBlG,iBAAiBiG,SAAjB,CAAzB;QACME,KAAK9G,KAAKC,GAAL,CAAS4G,gBAAT,IAA6B5F,aAAxC;QACM8F,KAAK/G,KAAKG,GAAL,CAAS0G,gBAAT,IAA6B5F,aAAxC;;;QAGM+F,aAAa;uBACH/C,UAAU6B,GAAV,IAAiBF,KAA/B,CADiB;SAEdtD,MAAM7C,EAFQ;SAGd6C,MAAM5C,EAHQ;YAAA;YAAA;kBAMLsB,wBAAwB;mBACvBsB,MAAMpB,SADiB;uBAEnBoB,MAAMrB,aAFa;8BAGZ6F;OAHZ,CANK;YAWXrD,IAXW;iBAYNmC,KAZM;aAaV3B,UAAUN,KAbA;aAcVrB,MAAM2E;KAdf;;WAiBOZ,gBAAgB/D,MAAMoE,KAAtB,EAA6BM,UAA7B,EAAyC/C,UAAU3C,KAAnD,CAAP;GA5BK,CAAP;CANF;;IAsCqB4F;;;gCACP5E,KAAZ,EAAmB;;;gDACjB,0BAAMA,KAAN,CADiB;;QAGb,MAAKA,KAAL,CAAWgD,OAAX,KAAuB,IAA3B,EAAiC;YAC1B6B,YAAL,GAAoB,IAApB;;;;;iCAIJC,iDAAoB;;;QACd,KAAK9E,KAAL,CAAWgD,OAAX,KAAuB,IAAvB,IAA+B+B,qBAAnC,EAA0D;WACnDC,uBAAL,GAA+BC,WAAW,YAAM;eACzCD,uBAAL,GAA+B,IAA/B;eACKE,qBAAL,GAA6BH,sBAAsB,YAAM;iBACjDG,qBAAL,GAA6B,IAA9B,EAAqC,OAAKC,cAAL,EAArC;SAD2B,CAA7B;OAF6B,CAA/B;;;;iCASJC,uDAAuB;QACjB,KAAKJ,uBAAT,EAAkC;mBACnB,KAAKA,uBAAlB;;QAEE,KAAKE,qBAAT,EAAgC;2BACT,KAAKA,qBAA1B;;;;iCAIJC,2CAAiB;SACVN,YAAL,GAAoB,KAApB;SACKQ,WAAL;;;iCAGFC,2BAAS;QACH,KAAKtF,KAAL,CAAWmB,IAAX,KAAoBuC,SAAxB,EAAmC;aAC1B,IAAP;;;QAGI6B,iBAAiB3D,0BACrB,KAAK5B,KAAL,CAAWmB,IADU,EAErB,KAAKnB,KAAL,CAAWT,WAFU,EAGrB,KAAKS,KAAL,CAAW8B,UAHU,CAAvB;;WAOE;;;mBACa,KAAK9B,KAAL,CAAWwF,SADxB;eAES,KAAKxF,KAAL,CAAW8C;;;;;mBAGPvE,oBAAoB,KAAKyB,KAAL,CAAWxB,KAA/B,EAAsC8C,YAAtC,CADX;iBAEQ,MAFR;kBAGS,MAHT;iBAIS,EAAEmE,SAAS,OAAX;;qBAEOF,cAAb,EAA6B,KAAKvF,KAAlC,EAAyC,KAAK6E,YAA9C,CANH;aAOQ7E,KAAL,CAAWoE,KAAX,IAAoBC,WAAWkB,cAAX,EAA2B,KAAKvF,KAAhC,CAPvB;aAQQA,KAAL,CAAW0F,SAAX,IAAwB,KAAK1F,KAAL,CAAW0F,SAAX;OAZ7B;WAcQ1F,KAAL,CAAW2F;KAfhB;;;;EA7C8CC;;AAkElDhB,qBAAqBvE,WAArB,GAAmC,sBAAnC;;AAEAuE,qBAAqBtE,SAArB,GAAiC;QACzBO,YADyB;MAE3BN,UAAUC,MAFiB;MAG3BD,UAAUC,MAHiB;SAIxBD,UAAUC,MAJc;cAKnBD,UAAUC,MALS;aAMpBD,UAAUI,MANU;SAOxBK,aAPwB;iBAQhBA,aARgB;cASnBT,UAAUC,MATS;eAUlBD,UAAUC,MAVQ;gBAWjBD,UAAUC,MAXO;aAYpBD,UAAUC,MAZU;UAavBD,UAAUC,MAba;WActBD,UAAUsF,IAdY;WAetBtF,UAAUsF,IAfY;qBAgBZtF,UAAUC,MAhBE;mBAiBdD,UAAUI,MAjBI;UAkBvBJ,UAAUC,MAlBa;YAmBrBD,UAAUuF,IAnBW;aAoBpBvF,UAAUwF,IApBU;SAqBxBxF,UAAUG,SAAV,CAAoB,CACzBH,UAAUwF,IADe,EAEzBxF,UAAUyF,OAFe,EAGzBzF,UAAUsF,IAHe,CAApB,CArBwB;iBA0BhBtF,UAAUC,MA1BM;cA2BnBQ,aA3BmB;eA4BlBT,UAAUwF,IA5BQ;cA6BnBxF,UAAUwF,IA7BS;WA8BtBxF,UAAUwF;CA9BrB;;AAiCAnB,qBAAqBhE,YAArB,GAAoC;MAC9BW,iBAD8B;MAE9BA,iBAF8B;SAG3B,CAH2B;cAItB,CAJsB;eAKrB,GALqB;gBAMpB,CANoB;aAOvB,GAPuB;UAQ1BA,iBAR0B;WASzB,KATyB;WAUzB,KAVyB;qBAWf,GAXe;mBAYjB,UAZiB;SAa3B,KAb2B;iBAcnB,EAdmB;eAerBmC,SAfqB;cAgBtBA,SAhBsB;WAiBzBA;CAjBX;;;;"}